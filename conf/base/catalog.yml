
# --- Downloads

msha_accidents:
  type: msha.io.http.CSVHTTPDataSet
  file_url: "https://arlweb.msha.gov/OpenGovernmentData/DataSets/Accidents.zip"
  file_path: data/01_raw/msha_accidents.zip
  force_download: False
  load_args:
    sep: '|'
    encoding: latin
    dtype: {'ACCIDENT_TIME': str}
    parse_dates: ['ACCIDENT_DT']
    na_values: ['NO VALUE FOUND']

msha_mines:
  type: msha.io.http.CSVHTTPDataSet
  file_url: "https://arlweb.msha.gov/OpenGovernmentData/DataSets/Mines.zip"
  file_path: data/01_raw/msha_mines.zip
  force_download: False
  load_args:
    sep: '|'
    encoding: latin
    parse_dates: ['CURRENT_STATUS_DT', 'CURRENT_CONTROLLER_BEGIN_DT']
    na_values: ['NO VALUE FOUND']

msha_production:
  type: msha.io.http.CSVHTTPDataSet
  file_url: "https://arlweb.msha.gov/OpenGovernmentData/DataSets/MinesProdQuarterly.zip"
  file_path: data/01_raw/msha_production.zip
  force_download: False
  load_args:
    sep: "|"
    encoding: latin
    na_values: ['NO VALUE FOUND']

# --- pre processing dataframes

pp_accidents:
  type: pickle.PickleDataSet
  filepath: data/02_clean/accidents.pkl

pp_production:
  type: pickle.PickleDataSet
  filepath: data/02_clean/production.pkl

pp_mines:
  type: pickle.PickleDataSet
  filepath: data/02_clean/mines.pkl
